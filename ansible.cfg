[defaults]
# Basic Configuration
inventory = hosts
host_key_checking = False
retry_files_enabled = False
gathering = smart
fact_caching = memory
fact_caching_timeout = 86400

# Performance Settings
forks = 5
poll_interval = 15
timeout = 30
pipelining = True

# Output and Logging
stdout_callback = default
display_skipped_hosts = False
display_ok_hosts = True
show_per_host_start = True
any_errors_fatal = False
force_color = True

# Security
become_ask_pass = True
remote_user = {{ user | default('ansible') }}

# Deprecation Warnings
deprecation_warnings = True
command_warnings = True

# Local Connection Optimizations
transport = local
local_tmp = ~/.ansible/tmp
remote_tmp = ~/.ansible/tmp

# Plugin Paths
lookup_plugins = ~/.ansible/plugins/lookup:/usr/share/ansible/plugins/lookup
filter_plugins = ~/.ansible/plugins/filter:/usr/share/ansible/plugins/filter
action_plugins = ~/.ansible/plugins/action:/usr/share/ansible/plugins/action

# Module Settings
module_utils = ~/.ansible/module_utils:/usr/share/ansible/module_utils
library = ~/.ansible/library:/usr/share/ansible/modules

[inventory]
enable_plugins = host_list, script, auto, yaml, ini, toml

[ssh_connection]
ssh_args = -C -o ControlMaster=auto -o ControlPersist=60s
control_path_dir = ~/.ansible/cp
control_path = %(directory)s/%%h-%%p-%%r
pipelining = True
